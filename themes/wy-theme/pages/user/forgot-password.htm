title = "忘记密码?"
url = "/user/forgot-password/:code?"
is_hidden = 0
layout="default"
[resetPassword]
paramCode = "code"
==
function onStart(){

}
==

<div class="container m-t">
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4>找回密码</h4>
                </div>
                <div class="panel-body">
                    <div id="partialUserResetForm">
                        {% if resetPassword.code == null %}
                        <p class="lead">
                            <strong>忘记你的密码?</strong>  输入您的电子邮件地址来验证您的帐户并找回密码.
                        </p>

                        <form
                                data-request="resetPassword::onRestorePassword"
                                data-request-update="'user/reset': '#partialUserResetForm'">
                            <div class="form-group">
                                <label for="userRestoreEmail">邮箱</label>
                                <input name="email" type="email" class="form-control" id="userRestoreEmail" placeholder="输入你的邮箱">
                            </div>

                            <button type="submit" class="btn btn-default">恢复密码</button>
                        </form>
                        {% else %}
                        <p class="lead">
                            请检查你的电子邮件获取激活代码。
                        </p>

                        <form
                                data-request="resetPassword::onResetPassword"
                                data-request-update="'user/complete': '#partialUserResetForm'">
                            <div class="form-group">
                                <label for="resetCode">激活码</label>
                                <input name="code" type="text" class="form-control" id="resetCode" placeholder="输入激活码" value="{{ resetPassword.code }}">
                            </div>

                            <div class="form-group">
                                <label for="resetPassword">新密码</label>
                                <input name="password" type="password" class="form-control" id="resetPassword" placeholder="输入新密码">
                            </div>

                            <button type="submit" class="btn btn-default">重置密码</button>
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
